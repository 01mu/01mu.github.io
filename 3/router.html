<script src="https://unpkg.com/vue@next"></script>
<script src="https://unpkg.com/vue-router@next"></script>

<div id="app">
  <h1>Hello App!</h1>
  <p>
    <router-link to="/">Go to Home</router-link>
    <router-link to="/about">Go to About</router-link>
  </p>
  <router-view></router-view>
</div>


<script>
const Home = { template: '<div>Home</div>' }
const About = {
    template: '<div>User {{ $route.params.id }}</div>',
    methods: {
        a() {
            console.log(1);
        }
    },
    created() {
        this.$watch(() => this.$route.params,
            (toParams, previousParams) => {
                this.a();
            }
        )
    }
}

const routes = [
  { path: '/', component: Home },
  { path: '/about', component: About },
  { path: '/about/:id', component: About },
]

const router = VueRouter.createRouter({
    history: VueRouter.createWebHashHistory(),
    routes,
})

const app = Vue.createApp({})
app.use(router)
app.mount('#app')

</script>
